# 6. laboratorijska vjeÅ¾ba - Online and Offline Password Guessing

U ovoj vjeÅ¾bi odradili smo 2 vrste napada: **online** i **offline pogaÄ‘anje lozinke**. Kod offline pogaÄ‘anja, napadaÄ nije u mreÅ¾noj interakciji s posluÅ¾iteljem dok se kod online sva pogaÄ‘anja Å¡alju na legitimni server.

## Online password guessing

![image](https://user-images.githubusercontent.com/92427754/213802498-576dd1b8-4706-42fb-adb6-266bd6811e6b.png)

Dobili smo podatke o lozinci: sastoji se od malih slova i njena duljina je izmeÄ‘u 4 i 6 znakova. Koristili smo naredbu ssh kako bismo se sigurno povezali i upravljali posluÅ¾iteljem. 

`ssh mlinarevic_ivona@mlinarevicivona.local`

SljedeÄ‡a naredba bila je ovo:

`hydra -l mlinarevic_ivona -x 4:6:a mlinarevicivona.local -V -t 1 ssh`

*Hydra* je alat za probijanje lozinki koji se moÅ¾e koristiti za izvoÄ‘enje automatiziranih brute force napada na razne protokole i usluge. 4:6:a se odnosi na svojstva zaporke koja su nam poznata. Za daljnji napad nam je bio potreban rjeÄnik. Koristili smo onaj koji je generirao profesor. Dohvatili smo ga pomoÄ‡u `wget -r -nH -np --reject "index.html*" http://challenges.local/dictionary/g2/`

U konaÄnici smo kombinirali *hydru* i rjeÄnik:

`hydra -l mlinarevic_ivona -P dictionary/g2/dictionary_online.txt mlinarevicivona.local -V -t 4 ssh`

U terminalu su se ispisivale razne informacije i u jednom trenu bi ispisivanje prestalo. Tada bi doÅ¡lo do pogotka lozinke, te smo se uz pomoÄ‡ nje uspjeÅ¡no prijavili.

## Offline password guessing

Ovjde smo izabrali neÄiji profil te smo se pokuÅ¡ali prijaviti kao ta osoba. Naravno da nam je trebala lozinka pa smo je iÅ¡li otkriti offline putem. Hash vrijednosti dobivene u prethodnom zadatku spremili smo u datoteku. Ponovno smo koristili rjeÄnik (`wget -r -nH -np --reject "index.html*" http://challenges.local/dictionary/g2/`) te usporeÄ‘ivali hash vrijednosti. Ako se pronaÄ‘e podudaranje, uspjeÅ¡no je probijena lozinka. Tako je i bilo. Koristili smo *hashcat* ovaj put, a o lozinci smo znali da se sastoji od malih slova i ima toÄno 6 znakova.

`hashcat --force -m 1800 -a 3 hash.txt ?l?l?l?l?l?l --status --status-timer 10`

*Hashcat* se moÅ¾e koristiti za probijanje hashirane lozinke iz razliÄitih vrsta hash-ova, na primjer, LM, NTLM, MD5 i SHA-1, a takoÄ‘er se moÅ¾e koristiti za probijanje zaporki razliÄitih vrsta datoteka kao Å¡to su .doc, .pdf , i .rar. U *Hashcatu*, rezervirano mjesto "?l" predstavlja svako malo slovo, a "?u" predstavlja svako veliko slovo. Kada se koristi viÅ¡e "?l" ili "?u" rezerviranih mjesta u nizu, kao u "?l?l?l?l?l?l", to govori Hashcatu da generira sve moguÄ‡e kombinacije malih slova navedene duljine . MeÄ‘utim, vaÅ¾no je imati na umu da Å¡to je veÄ‡i prostor za zaporku, to Ä‡e viÅ¡e vremena biti potrebno za probijanje lozinke. Ovdje je bilo 26^6 moguÄ‡ih kombinacija lozinke.

`hashcat --force -m 1800 -a 0 password_hash.txt dictionary/g2/dictionary_offline.txt --status --status-timer 10`

Uz pomoÄ‡ *ssh* naredbe, iÅ¡li smo se prijaviti kao da smo Alice Cooper. Uspjelo nam je. ğŸ˜ğŸ•µğŸ¼â€â™€ï¸

`ssh alice_coopery@mlinarevicivona.local`
